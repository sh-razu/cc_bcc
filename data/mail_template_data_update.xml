<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Purchase: Request For Quotation -->
        <function name="write" model="ir.model.data">
            <value model="ir.model.data"
                   search="[('module', '=', 'purchase'), ('name', '=', 'email_template_edi_purchase')]"/>
            <value eval="{'noupdate': False}"/>
        </function>

        <!-- Purchase: Purchase Order -->
        <function name="write" model="ir.model.data">
            <value model="ir.model.data"
                   search="[('module', '=', 'purchase'), ('name', '=', 'email_template_edi_purchase_done')]"/>
            <value eval="{'noupdate': False}"/>
        </function>

        <!-- Invoice: Sending -->
        <function name="write" model="ir.model.data">
            <value model="ir.model.data"
                   search="[('module', '=', 'account'), ('name', '=', 'email_template_edi_invoice')]"/>
            <value eval="{'noupdate': False}"/>
        </function>

        <!-- Sales: Order Cancellation -->
        <function name="write" model="ir.model.data">
            <value model="ir.model.data"
                   search="[('module', '=', 'sale'), ('name', '=', 'mail_template_sale_cancellation')]"/>
            <value eval="{'noupdate': False}"/>
        </function>


        <!-- Purchase: Request For Quotation -->
        <record id="purchase.email_template_edi_purchase" model="mail.template">
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear Concern,
                        <br/>
                        <br/>
                        Here is in attachment a request for quotation
                        <span style="font-weight:bold;" t-out="object.name or ''">P00015</span>
                        <t t-if="object.partner_ref">
                            with reference:
                            <t t-out="object.partner_ref or ''">REF_XXX</t>
                        </t>
                        from <t t-out="object.company_id.name or ''">YourCompany</t>.
                        <br/>
                        <br/>
                        If you have any questions, please do not hesitate to contact us.
                        <br/>
                        <br/>
                        <a t-att-href="object.get_confirm_url(confirm_type='reception')"
                           target="_blank"
                           style="padding: 5px 10px; color: #FFFFFF; text-decoration: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius: 3px">
                            Accept
                        </a>

                        <a t-att-href="object.get_confirm_url(confirm_type='decline')"
                           target="_blank"
                           style="padding: 5px 10px; color: #FFFFFF; text-decoration: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius: 3px">
                            Decline
                        </a>
                        <br/>
                        <br/>
                        Best regards,
                        <t t-if="not is_html_empty(object.user_id.signature)">
                            <br/>
                            <br/>
                            <t t-out="object.user_id.signature or ''">--<br/>Mitchell Admin
                            </t>
                        </t>
                    </p>
                </div>
            </field>
        </record>

        <!-- Purchase: Purchase Order -->
        <record id="purchase.email_template_edi_purchase_done" model="mail.template">
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear Concern,
                        <br/>
                        <br/>
                        Here is in attachment a purchase order
                        <span style="font-weight:bold;" t-out="object.name or ''">P00015</span>
                        <t t-if="object.partner_ref">
                            with reference:
                            <t t-out="object.partner_ref or ''">REF_XXX</t>
                        </t>
                        amounting in
                        <span style="font-weight:bold;"
                              t-out="format_amount(object.amount_total, object.currency_id) or ''">$ 10.00
                        </span>
                        from <t t-out="object.company_id.name or ''">YourCompany</t>.
                        <br/>
                        <br/>
                        <t t-if="object.date_planned">
                            The receipt is expected for <span style="font-weight:bold;"
                                                              t-out="format_date(object.date_planned) or ''">
                            05/05/2021</span>.
                            <br/>
                            <br/>
                            Could you please acknowledge the receipt of this order?
                        </t>
                        <t t-if="not is_html_empty(object.user_id.signature)">
                            <br/>
                            <br/>
                            <t t-out="object.user_id.signature or ''">--<br/>Mitchell Admin
                            </t>
                        </t>
                        <br/>
                        <br/>
                    </p>
                </div>
            </field>
        </record>

        <!-- Invoice: Sending -->
        <record id="account.email_template_edi_invoice" model="mail.template">
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear Concern,
                        <br/>
                        <br/>
                        Here is your
                        <t t-if="object.name">
                            invoice
                            <span style="font-weight:bold;" t-out="object.name or ''">INV/2021/05/0005</span>
                        </t>
                        <t t-else="">
                            invoice
                        </t>
                        <t t-if="object.invoice_origin">
                            (with reference: <t t-out="object.invoice_origin or ''">SUB003</t>)
                        </t>
                        amounting in
                        <span style="font-weight:bold;"
                              t-out="format_amount(object.amount_total, object.currency_id) or ''">$ 143,750.00
                        </span>
                        from <t t-out="object.company_id.name or ''">YourCompany</t>.
                        <t t-if="object.payment_state in ('paid', 'in_payment')">
                            This invoice is already paid.
                        </t>
                        <t t-else="">
                            Please remit payment at your earliest convenience.
                            <t t-if="object.payment_reference">
                                <br/>
                                <br/>
                                Please use the following communication for your payment:
                                <strong t-out="object.payment_reference or ''">INV/2021/05/0005</strong>
                                <t t-if="object.partner_bank_id">
                                    on the account
                                    <strong t-out="object.partner_bank_id.acc_number"/>
                                </t>
                                .
                            </t>
                        </t>
                        <t t-if="hasattr(object, 'timesheet_count') and object.timesheet_count">
                            <br/>
                            <br/>
                            PS: you can review your timesheets
                            <a t-att-href="'/my/timesheets?search_in=invoice&amp;search=%s' % object.name">from the
                                portal.
                            </a>
                        </t>
                        <br/>
                        <br/>
                        Do not hesitate to contact us if you have any questions.
                        <t t-if="not is_html_empty(object.invoice_user_id.signature)">
                            <br/>
                            <br/>
                            <t t-out="object.invoice_user_id.signature or ''">--<br/>Mitchell Admin
                            </t>
                        </t>
                    </p>
                </div>
            </field>
        </record>

        <!-- Sales: Order Cancellation -->
        <record id="sale.mail_template_sale_cancellation" model="mail.template">
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <t t-set="doc_name" t-value="object.type_name"/>
                        Dear Concern,
                        <br/>
                        <br/>
                        Please be advised that your
                        <t t-out="doc_name or ''">quotation</t>
                        <strong t-out="object.name or ''">S00052</strong>
                        <t t-if="object.origin">
                            (with reference: <t t-out="object.origin or ''">S00052</t> )
                        </t>
                        has been cancelled. Therefore, you should not be charged further for this order.
                        If any refund is necessary, this will be executed at best convenience.
                        <br/>
                        <br/>
                        Do not hesitate to contact us if you have any questions.
                        <br/>
                    </p>
                </div>
            </field>
        </record>
    </data>
</odoo>
